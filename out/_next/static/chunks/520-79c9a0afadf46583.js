"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{2869:function(e,t,r){r.d(t,{d:function(){return d},z:function(){return l}});var n=r(7437),i=r(2265),a=r(7053),o=r(535),s=r(4508);let d=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 glow-on-hover variant-default",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 glow-on-hover variant-destructive",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground glow-on-hover variant-default",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground glow-on-hover variant-default",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=i.forwardRef((e,t)=>{let{className:r,variant:i,size:o,asChild:l=!1,...u}=e,c=l?a.g7:"button";return(0,n.jsx)(c,{className:(0,s.cn)(d({variant:i,size:o,className:r})),ref:t,...u})});l.displayName="Button"},4190:function(e,t,r){r.d(t,{$F:function(){return c},AW:function(){return m},Ju:function(){return g},VD:function(){return p},Xi:function(){return f},h_:function(){return u}});var n=r(7437),i=r(2265),a=r(85),o=r(407),s=r(401),d=r(519),l=r(4508);let u=a.fC,c=a.xz;a.ZA,a.Uv,a.Tr,a.Ee,i.forwardRef((e,t)=>{let{className:r,inset:i,children:s,...d}=e;return(0,n.jsxs)(a.fF,{ref:t,className:(0,l.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",r),...d,children:[s,(0,n.jsx)(o.Z,{className:"ml-auto"})]})}).displayName=a.fF.displayName,i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.tu,{ref:t,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...i})}).displayName=a.tu.displayName;let m=i.forwardRef((e,t)=>{let{className:r,sideOffset:i=4,...o}=e;return(0,n.jsx)(a.Uv,{children:(0,n.jsx)(a.VY,{ref:t,sideOffset:i,className:(0,l.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...o})})});m.displayName=a.VY.displayName;let f=i.forwardRef((e,t)=>{let{className:r,inset:i,...o}=e;return(0,n.jsx)(a.ck,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",i&&"pl-8",r),...o})});f.displayName=a.ck.displayName,i.forwardRef((e,t)=>{let{className:r,children:i,checked:o,...d}=e;return(0,n.jsxs)(a.oC,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:o,...d,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(a.wU,{children:(0,n.jsx)(s.Z,{className:"h-4 w-4"})})}),i]})}).displayName=a.oC.displayName,i.forwardRef((e,t)=>{let{className:r,children:i,...o}=e;return(0,n.jsxs)(a.Rk,{ref:t,className:(0,l.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...o,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(a.wU,{children:(0,n.jsx)(d.Z,{className:"h-2 w-2 fill-current"})})}),i]})}).displayName=a.Rk.displayName;let g=i.forwardRef((e,t)=>{let{className:r,inset:i,...o}=e;return(0,n.jsx)(a.__,{ref:t,className:(0,l.cn)("px-2 py-1.5 text-sm font-semibold",i&&"pl-8",r),...o})});g.displayName=a.__.displayName;let p=i.forwardRef((e,t)=>{let{className:r,...i}=e;return(0,n.jsx)(a.Z0,{ref:t,className:(0,l.cn)("-mx-1 my-1 h-px bg-muted",r),...i})});p.displayName=a.Z0.displayName},6281:function(e,t,r){r.d(t,{AuthProvider:function(){return d},V:function(){return s}});var n=r(7437),i=r(2265),a=r(9376),o=r(2510);let s=(0,i.createContext)(void 0),d=e=>{let{children:t}=e,[r,d]=(0,i.useState)(null),[l,u]=(0,i.useState)(!0),c=(0,a.useRouter)();(0,i.useEffect)(()=>{try{let e=localStorage.getItem("building-hub-user");e&&d(JSON.parse(e))}catch(e){console.error("Could not parse user from localStorage",e),localStorage.removeItem("building-hub-user")}finally{u(!1)}},[]);let m=e=>{if(r&&"owner"===r.role){let t={...r,buildingId:e};localStorage.setItem("building-hub-user",JSON.stringify(t)),d(t),c.push("/owner/dashboard")}};return(0,n.jsx)(s.Provider,{value:{user:r,login:(e,t)=>{let r;let n=o.rC,i=o.Gm,a=n.find(r=>r.username===e&&r.password===t);if(!a)return!1;let s=null;if("resident"===a.role){var l;let e=null===(l=a.entityIds)||void 0===l?void 0:l[0];if(!e)return!1;let t=i.find(t=>t.residents.some(t=>t.id===e));if(!t)return!1;s=t.id,r="/resident/dashboard"}else{let e=a.entityIds||[];e.length>0?(s=e[0],r="/owner/dashboard"):(r="/owner/add",s=null)}let u={id:a.id,role:a.role,buildingId:s,entityIds:a.entityIds||[]};return localStorage.setItem("building-hub-user",JSON.stringify(u)),d(u),c.push(r),!0},signup:(e,t)=>{if(o.rC.some(t=>t.username===e))return!1;let r={id:"owner-".concat(e,"-").concat(Date.now()),username:e,password:t,role:"owner",entityIds:[]},n=[...o.rC,r];(0,o.o_)(n);let i={id:r.id,role:r.role,buildingId:null,entityIds:[]};return localStorage.setItem("building-hub-user",JSON.stringify(i)),d(i),c.push("/owner/add"),!0},logout:()=>{localStorage.removeItem("building-hub-user"),d(null),c.push("/login")},loading:l,switchBuilding:m,getBuildingName:e=>{if(!e)return"No Building Selected";let t=o.Gm.find(t=>t.id===e);return(null==t?void 0:t.name)||"Unknown Building"},addBuilding:e=>{if(!r||"owner"!==r.role)return;let t={...e,id:"bldg-".concat(Date.now()),ownerId:r.id,residents:[],services:[],messages:[]},n=[...o.Gm,t];(0,o.D)(n);let i=o.rC.find(e=>e.id===r.id);if(i){let e={...i,entityIds:[...i.entityIds||[],t.id]},n=o.rC.map(t=>t.id===r.id?e:t);(0,o.o_)(n);let a={...r,entityIds:e.entityIds};localStorage.setItem("building-hub-user",JSON.stringify(a)),d(a)}m(t.id)}},children:t})}},6362:function(e,t,r){r.d(t,{a:function(){return a}});var n=r(2265),i=r(6281);let a=()=>{let e=(0,n.useContext)(i.V);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2510:function(e,t,r){r.d(t,{D:function(){return l},Gm:function(){return s},o_:function(){return d},rC:function(){return o}});let n=[{id:"bldg-starlight",name:"Starlight Towers",address:"123 Galaxy Way, Metropolis, 54321",floors:20,yearBuilt:2022,ownerId:"owner-daivik",residents:[{id:"res-001",buildingId:"bldg-starlight",name:"Alice Johnson",apartment:"10A",phone:"555-0101",email:"alice.j@email.com",maintenancePaid:!0},{id:"res-002",buildingId:"bldg-starlight",name:"Bob Williams",apartment:"12B",phone:"555-0102",email:"bob.w@email.com",maintenancePaid:!0},{id:"res-003",buildingId:"bldg-starlight",name:"Charlie Brown",apartment:"5C",phone:"555-0103",email:"charlie.b@email.com",maintenancePaid:!1}],services:[{id:"srv-01",name:"City Best Plumbing",contact:"555-0201",type:"Plumbing"},{id:"srv-02",name:"Spark Electricals",contact:"555-0202",type:"Electrician"}],messages:[{id:"msg-1",senderId:"res-001",receiverId:"owner-daivik",text:"Hi, my kitchen sink is leaking.",timestamp:new Date(Date.now()-72e5),read:!1},{id:"msg-2",senderId:"owner-daivik",receiverId:"res-001",text:"Hi Alice, I will send the plumber over tomorrow morning.",timestamp:new Date(Date.now()-33e5),read:!0}]},{id:"bldg-greenwood",name:"Greenwood Plaza",address:"456 Oak Avenue, Forest City, 12345",floors:15,yearBuilt:2018,ownerId:"owner-daivik",residents:[{id:"res-004",buildingId:"bldg-greenwood",name:"David Miller",apartment:"8D",phone:"555-0104",email:"david.m@email.com",maintenancePaid:!0},{id:"res-005",buildingId:"bldg-greenwood",name:"Eve Davis",apartment:"15F",phone:"555-0105",email:"eve.d@email.com",maintenancePaid:!1}],services:[{id:"srv-03",name:"Spotless Cleaners",contact:"555-0203",type:"Cleaning"},{id:"srv-04",name:"Fortress Security",contact:"555-0204",type:"Security"}],messages:[]},{id:"bldg-oceanbreeze",name:"Oceanbreeze Complex",address:"789 Shoreline Dr, Bayside, 67890",floors:30,yearBuilt:2024,ownerId:"owner-maria",residents:[{id:"res-006",buildingId:"bldg-oceanbreeze",name:"Frank Wright",apartment:"22C",phone:"555-0106",email:"frank.w@email.com",maintenancePaid:!0}],services:[],messages:[]}];function i(e,t){try{let t=localStorage.getItem(e);if(t)return JSON.parse(t,(e,t)=>"timestamp"===e&&"string"==typeof t&&/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(t)?new Date(t):t)}catch(t){console.error("Error parsing ".concat(e," from localStorage"),t),localStorage.removeItem(e)}return t}function a(e,t){try{localStorage.setItem(e,JSON.stringify(t))}catch(t){console.error("Error saving ".concat(e," to localStorage"),t)}}let o=i("building-hub-users",[{id:"owner-daivik",username:"Daivik",password:"daivik123",role:"owner",entityIds:["bldg-starlight","bldg-greenwood"]},{id:"owner-maria",username:"maria",password:"maria@123",role:"owner",entityIds:["bldg-oceanbreeze"]},{id:"res-001",username:"alice123",password:"alice@123",role:"resident",entityIds:["res-001"]},{id:"res-002",username:"bob123",password:"bob@123",role:"resident",entityIds:["res-002"]},{id:"res-003",username:"charlie123",password:"charlie@123",role:"resident",entityIds:["res-003"]},{id:"res-004",username:"david123",password:"david@123",role:"resident",entityIds:["res-004"]},{id:"res-005",username:"eve123",password:"eve@123",role:"resident",entityIds:["res-005"]},{id:"res-006",username:"frank123",password:"frank@123",role:"resident",entityIds:["res-006"]}]),s=i("building-hub-buildings",n);function d(e){o=e,a("building-hub-users",e)}function l(e){s=e,a("building-hub-buildings",e)}(()=>{let e=o.find(e=>"owner-daivik"===e.id),t="Daivik",r="daivik123";if(!e||e.username!==t||e.password!==r||"owner"!==e.role){var n;let i=null!==(n=null==e?void 0:e.entityIds)&&void 0!==n?n:["bldg-starlight","bldg-greenwood"];d([...o.filter(e=>"owner-daivik"!==e.id),{id:"owner-daivik",username:t,password:r,role:"owner",entityIds:i}])}})()},4508:function(e,t,r){r.d(t,{cn:function(){return a}});var n=r(1994),i=r(3335);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.m6)((0,n.W)(t))}}}]);
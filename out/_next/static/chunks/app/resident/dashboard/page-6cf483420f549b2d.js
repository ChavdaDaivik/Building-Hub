(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[569],{249:function(e,r,t){Promise.resolve().then(t.bind(t,8274))},8274:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return f}});var n=t(7437),i=t(6070),s=t(2510),a=t(6362),l=t(5974),d=t(9763);let o=(0,d.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var c=t(6901),u=t(5131);let m=(0,d.Z)("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);function f(){let{user:e}=(0,a.a)();if(!e||!e.buildingId)return null;let r=s.Gm.find(r=>r.id===e.buildingId);if(!r)return(0,n.jsx)("div",{children:"Building not found."});let t=r.residents.find(r=>r.id===e.id);return t?(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("div",{className:"flex justify-between items-center",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("h1",{className:"text-3xl font-bold font-headline",children:["Welcome, ",null==t?void 0:t.name.split(" ")[0],"!"]}),(0,n.jsxs)("p",{className:"text-muted-foreground",children:["Here's what's happening in ",r.name,"."]})]})}),(0,n.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,n.jsxs)(i.Zb,{className:"card-interactive",children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(m,{className:"h-5 w-5 text-primary"}),(0,n.jsx)("span",{children:"Building Announcements"})]}),(0,n.jsx)(i.SZ,{children:"Latest updates from management."})]}),(0,n.jsx)(i.aY,{children:(0,n.jsx)("ul",{className:"space-y-3",children:[{text:"The swimming pool will be closed for maintenance on Friday.",icon:o},{text:"Please ensure all garbage is properly disposed of in the designated bins.",icon:o}].map((e,r)=>(0,n.jsxs)("li",{className:"flex items-start gap-4 fade-in-up",style:{animationDelay:"".concat(150*r,"ms")},children:[(0,n.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-primary/10 text-primary",children:(0,n.jsx)(e.icon,{className:"h-5 w-5"})}),(0,n.jsx)("span",{className:"text-sm text-muted-foreground pt-1",children:e.text})]},r))})})]}),(0,n.jsxs)(i.Zb,{className:"card-interactive",children:[(0,n.jsxs)(i.Ol,{children:[(0,n.jsx)(i.ll,{children:"Your Information"}),(0,n.jsx)(i.SZ,{children:"A summary of your resident details."})]}),(0,n.jsxs)(i.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Apartment"}),(0,n.jsx)("p",{className:"text-muted-foreground text-lg font-mono bg-secondary px-2 py-1 rounded-md",children:null==t?void 0:t.apartment})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Contact"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:null==t?void 0:t.phone})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("h3",{className:"font-semibold",children:"Maintenance Status"}),(null==t?void 0:t.maintenancePaid)?(0,n.jsxs)(l.C,{variant:"default",className:"bg-primary/10 text-primary border-primary/20 hover:bg-primary/20",children:[(0,n.jsx)(c.Z,{className:"mr-2 h-4 w-4"})," Paid"]}):(0,n.jsxs)(l.C,{variant:"destructive",className:"bg-destructive/10 text-destructive border-destructive/20 hover:bg-destructive/20",children:[(0,n.jsx)(u.Z,{className:"mr-2 h-4 w-4"})," Pending"]})]})]})]})]})]}):(0,n.jsx)("div",{children:"Resident not found."})}},5974:function(e,r,t){"use strict";t.d(r,{C:function(){return l}});var n=t(7437);t(2265);var i=t(535),s=t(4508);let a=(0,i.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:r,variant:t,...i}=e;return(0,n.jsx)("div",{className:(0,s.cn)(a({variant:t}),r),...i})}},6070:function(e,r,t){"use strict";t.d(r,{Ol:function(){return l},SZ:function(){return o},Zb:function(){return a},aY:function(){return c},eW:function(){return u},ll:function(){return d}});var n=t(7437),i=t(2265),s=t(4508);let a=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...i})});a.displayName="Card";let l=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex flex-col space-y-1.5 p-6",t),...i})});l.displayName="CardHeader";let d=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("text-2xl font-semibold leading-none tracking-tight",t),...i})});d.displayName="CardTitle";let o=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("text-sm text-muted-foreground",t),...i})});o.displayName="CardDescription";let c=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("p-6 pt-0",t),...i})});c.displayName="CardContent";let u=i.forwardRef((e,r)=>{let{className:t,...i}=e;return(0,n.jsx)("div",{ref:r,className:(0,s.cn)("flex items-center p-6 pt-0",t),...i})});u.displayName="CardFooter"},6281:function(e,r,t){"use strict";t.d(r,{AuthProvider:function(){return d},V:function(){return l}});var n=t(7437),i=t(2265),s=t(9376),a=t(2510);let l=(0,i.createContext)(void 0),d=e=>{let{children:r}=e,[t,d]=(0,i.useState)(null),[o,c]=(0,i.useState)(!0),u=(0,s.useRouter)();(0,i.useEffect)(()=>{try{let e=localStorage.getItem("building-hub-user");e&&d(JSON.parse(e))}catch(e){console.error("Could not parse user from localStorage",e),localStorage.removeItem("building-hub-user")}finally{c(!1)}},[]);let m=e=>{if(t&&"owner"===t.role){let r={...t,buildingId:e};localStorage.setItem("building-hub-user",JSON.stringify(r)),d(r),u.push("/owner/dashboard")}};return(0,n.jsx)(l.Provider,{value:{user:t,login:(e,r)=>{let t;let n=a.rC,i=a.Gm,s=n.find(t=>t.username===e&&t.password===r);if(!s)return!1;let l=null;if("resident"===s.role){var o;let e=null===(o=s.entityIds)||void 0===o?void 0:o[0];if(!e)return!1;let r=i.find(r=>r.residents.some(r=>r.id===e));if(!r)return!1;l=r.id,t="/resident/dashboard"}else{let e=s.entityIds||[];e.length>0?(l=e[0],t="/owner/dashboard"):(t="/owner/add",l=null)}let c={id:s.id,role:s.role,buildingId:l,entityIds:s.entityIds||[]};return localStorage.setItem("building-hub-user",JSON.stringify(c)),d(c),u.push(t),!0},signup:(e,r)=>{if(a.rC.some(r=>r.username===e))return!1;let t={id:"owner-".concat(e,"-").concat(Date.now()),username:e,password:r,role:"owner",entityIds:[]},n=[...a.rC,t];(0,a.o_)(n);let i={id:t.id,role:t.role,buildingId:null,entityIds:[]};return localStorage.setItem("building-hub-user",JSON.stringify(i)),d(i),u.push("/owner/add"),!0},logout:()=>{localStorage.removeItem("building-hub-user"),d(null),u.push("/login")},loading:o,switchBuilding:m,getBuildingName:e=>{if(!e)return"No Building Selected";let r=a.Gm.find(r=>r.id===e);return(null==r?void 0:r.name)||"Unknown Building"},addBuilding:e=>{if(!t||"owner"!==t.role)return;let r={...e,id:"bldg-".concat(Date.now()),ownerId:t.id,residents:[],services:[],messages:[]},n=[...a.Gm,r];(0,a.D)(n);let i=a.rC.find(e=>e.id===t.id);if(i){let e={...i,entityIds:[...i.entityIds||[],r.id]},n=a.rC.map(r=>r.id===t.id?e:r);(0,a.o_)(n);let s={...t,entityIds:e.entityIds};localStorage.setItem("building-hub-user",JSON.stringify(s)),d(s)}m(r.id)}},children:r})}},6362:function(e,r,t){"use strict";t.d(r,{a:function(){return s}});var n=t(2265),i=t(6281);let s=()=>{let e=(0,n.useContext)(i.V);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2510:function(e,r,t){"use strict";t.d(r,{D:function(){return o},Gm:function(){return l},o_:function(){return d},rC:function(){return a}});let n=[{id:"bldg-starlight",name:"Starlight Towers",address:"123 Galaxy Way, Metropolis, 54321",floors:20,yearBuilt:2022,ownerId:"owner-daivik",residents:[{id:"res-001",buildingId:"bldg-starlight",name:"Alice Johnson",apartment:"10A",phone:"555-0101",email:"alice.j@email.com",maintenancePaid:!0},{id:"res-002",buildingId:"bldg-starlight",name:"Bob Williams",apartment:"12B",phone:"555-0102",email:"bob.w@email.com",maintenancePaid:!0},{id:"res-003",buildingId:"bldg-starlight",name:"Charlie Brown",apartment:"5C",phone:"555-0103",email:"charlie.b@email.com",maintenancePaid:!1}],services:[{id:"srv-01",name:"City Best Plumbing",contact:"555-0201",type:"Plumbing"},{id:"srv-02",name:"Spark Electricals",contact:"555-0202",type:"Electrician"}],messages:[{id:"msg-1",senderId:"res-001",receiverId:"owner-daivik",text:"Hi, my kitchen sink is leaking.",timestamp:new Date(Date.now()-72e5),read:!1},{id:"msg-2",senderId:"owner-daivik",receiverId:"res-001",text:"Hi Alice, I will send the plumber over tomorrow morning.",timestamp:new Date(Date.now()-33e5),read:!0}]},{id:"bldg-greenwood",name:"Greenwood Plaza",address:"456 Oak Avenue, Forest City, 12345",floors:15,yearBuilt:2018,ownerId:"owner-daivik",residents:[{id:"res-004",buildingId:"bldg-greenwood",name:"David Miller",apartment:"8D",phone:"555-0104",email:"david.m@email.com",maintenancePaid:!0},{id:"res-005",buildingId:"bldg-greenwood",name:"Eve Davis",apartment:"15F",phone:"555-0105",email:"eve.d@email.com",maintenancePaid:!1}],services:[{id:"srv-03",name:"Spotless Cleaners",contact:"555-0203",type:"Cleaning"},{id:"srv-04",name:"Fortress Security",contact:"555-0204",type:"Security"}],messages:[]},{id:"bldg-oceanbreeze",name:"Oceanbreeze Complex",address:"789 Shoreline Dr, Bayside, 67890",floors:30,yearBuilt:2024,ownerId:"owner-maria",residents:[{id:"res-006",buildingId:"bldg-oceanbreeze",name:"Frank Wright",apartment:"22C",phone:"555-0106",email:"frank.w@email.com",maintenancePaid:!0}],services:[],messages:[]}];function i(e,r){try{let r=localStorage.getItem(e);if(r)return JSON.parse(r,(e,r)=>"timestamp"===e&&"string"==typeof r&&/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/.test(r)?new Date(r):r)}catch(r){console.error("Error parsing ".concat(e," from localStorage"),r),localStorage.removeItem(e)}return r}function s(e,r){try{localStorage.setItem(e,JSON.stringify(r))}catch(r){console.error("Error saving ".concat(e," to localStorage"),r)}}let a=i("building-hub-users",[{id:"owner-daivik",username:"Daivik",password:"daivik123",role:"owner",entityIds:["bldg-starlight","bldg-greenwood"]},{id:"owner-maria",username:"maria",password:"maria@123",role:"owner",entityIds:["bldg-oceanbreeze"]},{id:"res-001",username:"alice123",password:"alice@123",role:"resident",entityIds:["res-001"]},{id:"res-002",username:"bob123",password:"bob@123",role:"resident",entityIds:["res-002"]},{id:"res-003",username:"charlie123",password:"charlie@123",role:"resident",entityIds:["res-003"]},{id:"res-004",username:"david123",password:"david@123",role:"resident",entityIds:["res-004"]},{id:"res-005",username:"eve123",password:"eve@123",role:"resident",entityIds:["res-005"]},{id:"res-006",username:"frank123",password:"frank@123",role:"resident",entityIds:["res-006"]}]),l=i("building-hub-buildings",n);function d(e){a=e,s("building-hub-users",e)}function o(e){l=e,s("building-hub-buildings",e)}(()=>{let e=a.find(e=>"owner-daivik"===e.id),r="Daivik",t="daivik123";if(!e||e.username!==r||e.password!==t||"owner"!==e.role){var n;let i=null!==(n=null==e?void 0:e.entityIds)&&void 0!==n?n:["bldg-starlight","bldg-greenwood"];d([...a.filter(e=>"owner-daivik"!==e.id),{id:"owner-daivik",username:r,password:t,role:"owner",entityIds:i}])}})()},4508:function(e,r,t){"use strict";t.d(r,{cn:function(){return s}});var n=t(1994),i=t(3335);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,i.m6)((0,n.W)(r))}},9763:function(e,r,t){"use strict";t.d(r,{Z:function(){return a}});var n=t(2265),i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let s=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),a=(e,r)=>{let t=(0,n.forwardRef)((t,a)=>{let{color:l="currentColor",size:d=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:u="",children:m,...f}=t;return(0,n.createElement)("svg",{ref:a,...i,width:d,height:d,stroke:l,strokeWidth:c?24*Number(o)/Number(d):o,className:["lucide","lucide-".concat(s(e)),u].join(" "),...f},[...r.map(e=>{let[r,t]=e;return(0,n.createElement)(r,t)}),...Array.isArray(m)?m:[m]])});return t.displayName="".concat(e),t}},6901:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(9763).Z)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]])},5131:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});let n=(0,t(9763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},535:function(e,r,t){"use strict";t.d(r,{j:function(){return a}});var n=t(1994);let i=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,s=n.W,a=(e,r)=>t=>{var n;if((null==r?void 0:r.variants)==null)return s(e,null==t?void 0:t.class,null==t?void 0:t.className);let{variants:a,defaultVariants:l}=r,d=Object.keys(a).map(e=>{let r=null==t?void 0:t[e],n=null==l?void 0:l[e];if(null===r)return null;let s=i(r)||i(n);return a[e][s]}),o=t&&Object.entries(t).reduce((e,r)=>{let[t,n]=r;return void 0===n||(e[t]=n),e},{});return s(e,d,null==r?void 0:null===(n=r.compoundVariants)||void 0===n?void 0:n.reduce((e,r)=>{let{class:t,className:n,...i}=r;return Object.entries(i).every(e=>{let[r,t]=e;return Array.isArray(t)?t.includes({...l,...o}[r]):({...l,...o})[r]===t})?[...e,t,n]:e},[]),null==t?void 0:t.class,null==t?void 0:t.className)}}},function(e){e.O(0,[265,971,117,744],function(){return e(e.s=249)}),_N_E=e.O()}]);